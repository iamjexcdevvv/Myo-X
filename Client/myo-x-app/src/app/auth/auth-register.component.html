<section class="w-full h-full flex items-center justify-center">
    <div class="bg-base-300 w-72 h-fit p-4 space-y-7 rounded-2xl">
        <div class="flex items-center justify-center space-x-2">
            <img class="w-10 h-10" src="/myo-x.svg" alt="myo-x" />
            <h1 class="text-xl font-black">Myo X</h1>
        </div>

        <form
            [formGroup]="registerAuth"
            (ngSubmit)="onSubmit()"
            class="space-y-3"
        >
            <div>
                <label class="floating-label">
                    <span>Email</span>
                    <input
                        formControlName="email"
                        type="email"
                        placeholder="Email"
                        class="input input-md"
                    />
                </label>

                @if (registerAuth.invalid && (registerAuth.dirty ||
                registerAuth.touched)) {
                <div class="my-3">
                    @if (registerAuth.get('email')?.hasError('required')) {
                    <div class="text-error text-xs">Email is required.</div>
                    } @if (registerAuth.get('email')?.hasError('email')) {
                    <div class="text-error text-xs">Invalid email format.</div>
                    } @if (registerAuth.get('email')?.errors?.['emailBackendValidator']) {
                    <div class="text-error text-xs">
                        {{ registerAuth.get("email")?.errors?.['emailBackendValidator'] }}
                    </div>
                    }
                </div>
                }
            </div>

            <div>
                <label class="floating-label">
                    <span>Password</span>
                    <input
                        formControlName="password"
                        placeholder="Password"
                        type="password"
                        class="input input-md"
                    />
                </label>

                @if (registerAuth.invalid && (registerAuth.dirty ||
                registerAuth.touched)) {
                <div class="my-3">
                    @if (registerAuth.get('password')?.hasError('required')) {
                    <div class="text-error text-xs">Password is required.</div>
                    } @if (registerAuth.get('password')?.hasError('minlength'))
                    {
                    <div class="text-error text-xs">
                        Password requires at least 8 characters long
                    </div>
                    }
                </div>
                }
            </div>

            <div>
                <label class="floating-label">
                    <span>Confirm Password</span>
                    <input
                        formControlName="confirmPassword"
                        placeholder="Confirm Password"
                        type="password"
                        class="input input-md"
                    />
                </label>

                @if (registerAuth.invalid && (registerAuth.dirty ||
                registerAuth.touched)) {
                <div class="my-3">
                    @if
                    (registerAuth.get('confirmPassword')?.hasError('required'))
                    {
                    <div class="text-error text-xs">
                        Confirm Password is required.
                    </div>
                    } @if(registerAuth.errors?.["passwordMismatch"]) {
                    <div class="text-error text-xs">
                        Passwords do not match.
                    </div>
                    }
                </div>
                }
            </div>

            <div class="mt-12">
                <button
                    class="btn btn-primary w-full"
                    type="submit"
                    [disabled]="!registerAuth.valid"
                >
                    Sign Up
                </button>
            </div>
        </form>
    </div>
</section>
